{% comment %}
  Section: Contact Form
  Simple contact form using Shopify's built-in contact form
{% endcomment %}

<section class="section-spacing">
  <div class="page-width">
    {% if section.settings.title != blank %}
      <header class="section-header text-center">
        <h2 class="section-header__title">{{ section.settings.title }}</h2>
        {% if section.settings.description != blank %}
          <p>{{ section.settings.description }}</p>
        {% endif %}
      </header>
    {% endif %}

    <div class="grid">
      <div class="grid__item large--eight-tenths push--large--one-tenth">
        {% form 'contact' %}
          {% if form.posted_successfully? %}
            <p class="note form-success">
              {{ 'contact.form.post_success' | t | default: 'Thanks for contacting us. We'll get back to you as soon as possible.' }}
            </p>
          {% endif %}

          {{ form.errors | default_errors }}

          <div class="grid">
            <div class="grid__item large--one-half">
              <label for="ContactFormName">{{ 'contact.form.name' | t | default: 'Name' }}</label>
              <input type="text" id="ContactFormName" name="contact[name]" value="{% if form.name %}{{ form.name }}{% elsif customer %}{{ customer.name }}{% endif %}">
            </div>
            
            <div class="grid__item large--one-half">
              <label for="ContactFormEmail">{{ 'contact.form.email' | t | default: 'Email' }} <span class="required">*</span></label>
              <input type="email" id="ContactFormEmail" name="contact[email]" value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}" required>
            </div>
          </div>

          <label for="ContactFormPhone">{{ 'contact.form.phone' | t | default: 'Phone Number' }}</label>
          <input type="tel" id="ContactFormPhone" name="contact[phone]" value="{% if form.phone %}{{ form.phone }}{% elsif customer %}{{ customer.phone }}{% endif %}">

          <label for="ContactFormMessage">{{ 'contact.form.message' | t | default: 'Message' }} <span class="required">*</span></label>
          <textarea rows="10" id="ContactFormMessage" name="contact[body]" required>{% if form.body %}{{ form.body }}{% endif %}</textarea>

          <input type="submit" class="btn" value="{{ 'contact.form.send' | t | default: 'Send' }}">
        {% endform %}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Contact Form",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Contact Us"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Have a question? We'd love to hear from you."
    }
  ],
  "presets": [
    {
      "name": "Contact Form",
      "category": "Forms"
    }
  ]
}
{% endschema %}