{% comment %}
  Section: Contact Information
  Display contact details and business information
{% endcomment %}

<div class="page-width">
  {% if section.settings.title != blank %}
    <div class="section-header text-center">
      <h2>{{ section.settings.title }}</h2>
      {% if section.settings.description != blank %}
        <p class="rte">{{ section.settings.description }}</p>
      {% endif %}
    </div>
  {% endif %}

  <div class="grid">
    {% for block in section.blocks %}
      {% case block.type %}
        {% when 'contact_method' %}
          <div class="grid__item large--one-third medium--one-half text-center" {{ block.shopify_attributes }}>
            {% if block.settings.icon != blank %}
              <div style="font-size: 2.5rem; margin-bottom: 1rem;">
                {{ block.settings.icon }}
              </div>
            {% endif %}
            
            {% if block.settings.title != blank %}
              <h3 class="h4">{{ block.settings.title }}</h3>
            {% endif %}
            
            {% if block.settings.content != blank %}
              <div class="rte" style="margin-bottom: 1.5rem;">
                {{ block.settings.content }}
              </div>
            {% endif %}
            
            {% if block.settings.link_text != blank and block.settings.link_url != blank %}
              <a href="{{ block.settings.link_url }}" class="btn" 
                 {% if block.settings.link_url contains 'tel:' or block.settings.link_url contains 'mailto:' %}
                   {% assign link_class = 'direct-link' %}
                 {% else %}
                   target="_blank" rel="noopener"
                 {% endif %}>
                {{ block.settings.link_text }}
              </a>
            {% endif %}
          </div>

        {% when 'business_hours' %}
          <div class="grid__item large--one-third medium--one-half text-center" {{ block.shopify_attributes }}>
            {% if block.settings.icon != blank %}
              <div style="font-size: 2.5rem; margin-bottom: 1rem;">
                {{ block.settings.icon }}
              </div>
            {% endif %}
            
            <h3 class="h4">{{ block.settings.title | default: "Business Hours" }}</h3>
            
            <div style="text-align: left; max-width: 280px; margin: 0 auto;">
              {% if block.settings.monday_hours != blank %}
                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #f0f0f0;">
                  <span><strong>Monday:</strong></span>
                  <span>{{ block.settings.monday_hours }}</span>
                </div>
              {% endif %}
              
              {% if block.settings.tuesday_hours != blank %}
                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #f0f0f0;">
                  <span><strong>Tuesday:</strong></span>
                  <span>{{ block.settings.tuesday_hours }}</span>
                </div>
              {% endif %}
              
              {% if block.settings.wednesday_hours != blank %}
                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #f0f0f0;">
                  <span><strong>Wednesday:</strong></span>
                  <span>{{ block.settings.wednesday_hours }}</span>
                </div>
              {% endif %}
              
              {% if block.settings.thursday_hours != blank %}
                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #f0f0f0;">
                  <span><strong>Thursday:</strong></span>
                  <span>{{ block.settings.thursday_hours }}</span>
                </div>
              {% endif %}
              
              {% if block.settings.friday_hours != blank %}
                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #f0f0f0;">
                  <span><strong>Friday:</strong></span>
                  <span>{{ block.settings.friday_hours }}</span>
                </div>
              {% endif %}
              
              {% if block.settings.saturday_hours != blank %}
                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #f0f0f0;">
                  <span><strong>Saturday:</strong></span>
                  <span>{{ block.settings.saturday_hours }}</span>
                </div>
              {% endif %}
              
              {% if block.settings.sunday_hours != blank %}
                <div style="display: flex; justify-content: space-between; padding: 0.5rem 0;">
                  <span><strong>Sunday:</strong></span>
                  <span>{{ block.settings.sunday_hours }}</span>
                </div>
              {% endif %}
            </div>
            
            {% if block.settings.special_note != blank %}
              <div class="note" style="margin-top: 1rem;">
                {{ block.settings.special_note }}
              </div>
            {% endif %}
          </div>

        {% when 'social_media' %}
          <div class="grid__item large--one-third medium--one-half text-center" {{ block.shopify_attributes }}>
            {% if block.settings.icon != blank %}
              <div style="font-size: 2.5rem; margin-bottom: 1rem;">
                {{ block.settings.icon }}
              </div>
            {% endif %}
            
            <h3 class="h4">{{ block.settings.title | default: "Follow Us" }}</h3>
            
            <div>
              {% if block.settings.facebook_url != blank %}
                <a href="{{ block.settings.facebook_url }}" target="_blank" rel="noopener" class="btn" style="display: block; margin-bottom: 0.5rem;">
                  <span style="font-size: 1.2rem;">üìò</span>
                  Facebook
                </a>
              {% endif %}
              
              {% if block.settings.instagram_url != blank %}
                <a href="{{ block.settings.instagram_url }}" target="_blank" rel="noopener" class="btn" style="display: block; margin-bottom: 0.5rem;">
                  <span style="font-size: 1.2rem;">üì∑</span>
                  Instagram
                </a>
              {% endif %}
              
              {% if block.settings.twitter_url != blank %}
                <a href="{{ block.settings.twitter_url }}" target="_blank" rel="noopener" class="btn" style="display: block; margin-bottom: 0.5rem;">
                  <span style="font-size: 1.2rem;">üê¶</span>
                  Twitter
                </a>
              {% endif %}
              
              {% if block.settings.youtube_url != blank %}
                <a href="{{ block.settings.youtube_url }}" target="_blank" rel="noopener" class="btn" style="display: block; margin-bottom: 0.5rem;">
                  <span style="font-size: 1.2rem;">üì∫</span>
                  YouTube
                </a>
              {% endif %}
              
              {% if block.settings.linkedin_url != blank %}
                <a href="{{ block.settings.linkedin_url }}" target="_blank" rel="noopener" class="btn" style="display: block; margin-bottom: 0.5rem;">
                  <span style="font-size: 1.2rem;">üíº</span>
                  LinkedIn
                </a>
              {% endif %}
            </div>
          </div>
      {% endcase %}
    {% endfor %}
  </div>
</div>

{% schema %}
{
  "name": "Contact Information",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Contact Information"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Get in touch with us through any of these channels"
    }
  ],
  "blocks": [
    {
      "type": "contact_method",
      "name": "Contact Method",
      "settings": [
        {
          "type": "text",
          "id": "icon",
          "label": "Icon (emoji or symbol)",
          "default": "üìû"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Phone"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content",
          "default": "<p>Call us for immediate assistance</p>"
        },
        {
          "type": "text",
          "id": "link_text",
          "label": "Link Text",
          "default": "Call Now"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "Link URL (tel:, mailto:, or regular URL)"
        }
      ]
    },
    {
      "type": "business_hours",
      "name": "Business Hours",
      "settings": [
        {
          "type": "text",
          "id": "icon",
          "label": "Icon (emoji or symbol)",
          "default": "üïí"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Business Hours"
        },
        {
          "type": "text",
          "id": "monday_hours",
          "label": "Monday Hours",
          "default": "9:00 AM - 6:00 PM"
        },
        {
          "type": "text",
          "id": "tuesday_hours",
          "label": "Tuesday Hours",
          "default": "9:00 AM - 6:00 PM"
        },
        {
          "type": "text",
          "id": "wednesday_hours",
          "label": "Wednesday Hours",
          "default": "9:00 AM - 6:00 PM"
        },
        {
          "type": "text",
          "id": "thursday_hours",
          "label": "Thursday Hours",
          "default": "9:00 AM - 6:00 PM"
        },
        {
          "type": "text",
          "id": "friday_hours",
          "label": "Friday Hours",
          "default": "9:00 AM - 6:00 PM"
        },
        {
          "type": "text",
          "id": "saturday_hours",
          "label": "Saturday Hours",
          "default": "10:00 AM - 4:00 PM"
        },
        {
          "type": "text",
          "id": "sunday_hours",
          "label": "Sunday Hours",
          "default": "Closed"
        },
        {
          "type": "textarea",
          "id": "special_note",
          "label": "Special Note",
          "placeholder": "e.g., Holiday hours may vary"
        }
      ]
    },
    {
      "type": "social_media",
      "name": "Social Media",
      "settings": [
        {
          "type": "text",
          "id": "icon",
          "label": "Icon (emoji or symbol)",
          "default": "üåê"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Follow Us"
        },
        {
          "type": "url",
          "id": "facebook_url",
          "label": "Facebook URL"
        },
        {
          "type": "url",
          "id": "instagram_url",
          "label": "Instagram URL"
        },
        {
          "type": "url",
          "id": "twitter_url",
          "label": "Twitter URL"
        },
        {
          "type": "url",
          "id": "youtube_url",
          "label": "YouTube URL"
        },
        {
          "type": "url",
          "id": "linkedin_url",
          "label": "LinkedIn URL"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Contact Information",
      "category": "Contact",
      "blocks": [
        {
          "type": "contact_method",
          "settings": {
            "icon": "üìû",
            "title": "Phone",
            "content": "<p>Call us for immediate assistance with any questions about our e-bikes.</p>",
            "link_text": "Call Now",
            "link_url": "tel:+41123456789"
          }
        },
        {
          "type": "contact_method",
          "settings": {
            "icon": "‚úâÔ∏è",
            "title": "Email",
            "content": "<p>Send us an email and we'll respond within 24 hours.</p>",
            "link_text": "Send Email",
            "link_url": "mailto:hello@godspeed.ch"
          }
        },
        {
          "type": "business_hours"
        }
      ]
    }
  ]
}
{% endschema %}